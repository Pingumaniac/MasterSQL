{% extends "base.html" %}
{% block content %}
<!-- Page Content -->
<section>
    <div class="container">
        <br>
        <br>
        <br>
        <div class="row">
            <div class="col-12 col-md-3">
                <!-- Card -->
                <div class="card shadow">
                    <!-- Collapse -->
                    <div class="collapse d-md-block" id="sidenavCollapse">
                        <div class="card-header">
                            <!-- Heading -->
                            <h4>SQL Tests</h4>
                        </div>
                        <div class="card-body">
                            <!-- List -->
                            <ul class="card-list list">
                                <li class="list-item lift">
                                    <a class="list-link text-reset" href="{{ url_for('sql_pages.level1') }}">
                                        Level 1 - Easy
                                    </a>
                                </li>
                                <li class="list-item lift">
                                    <a class="list-link text-reset" href="{{ url_for('sql_pages.level2') }}">
                                        Level 2 - Intermediate
                                    </a>
                                </li>
                                <li class="list-item active lift">
                                    <a class="list-link text-reset" href="{{ url_for('sql_pages.level3') }}">
                                        Level 3 - Advanced
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-12 col-md-9">
                <!-- Card -->
                <div class="card shadow">
                    <div class="card-header">
                        <!-- Heading -->
                        <h4>Total 5 questions, 5 points maximum</h4>
                    </div>
                    <div class="card-body">
                        <!-- List group -->
                        <div class="list-group list-group-flush">
                            <h5><strong>For questions 1-5, please refer to the following table.</strong></h5>
                            <br>
                            <h5><strong>Table name: iPhone13ProMaxCase</strong></h5>
                            <br>
                            <table class="table small table-striped table-success">
                                <thead>
                                    <tr>
                                        <th scope="col">#</th>
                                        <th scope="col">caseName</th>
                                        <th scope="col">manufacturer</th>
                                        <th scope="col">price</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <th scope="row">1</th>
                                        <td>iPhone 13 Pro Max Clear Case with MagSafe</td>
                                        <td>Apple</td>
                                        <td>49</td>
                                    </tr>
                                    <tr>
                                        <th scope="row">2</th>
                                        <td>iPhone 13 Pro Max Leather Case with MagSafe</td>
                                        <td>Apple</td>
                                        <td>59</td>
                                    </tr>
                                    <tr>
                                        <th scope="row">3</th>
                                        <td>iPhone 13 Pro Max Silicone Case with MagSafe</td>
                                        <td>Apple</td>
                                        <td>49</td>
                                    </tr>
                                    <tr>
                                        <th scope="row">4</th>
                                        <td>Otterbox Aneu Series Case with MagSafe for iPhone 13 Pro Max</td>
                                        <td>Otterbox</td>
                                        <td>49.95</td>
                                    </tr>
                                    <tr>
                                        <th scope="row">5</th>
                                        <td>Otterbox Figura Series Case with MagSafe for iPhone 13 Pro Max</td>
                                        <td>Otterbox</td>
                                        <td>49.95</td>
                                    </tr>
                                    <tr>
                                        <th scope="row">6</th>
                                        <td>Otterbox iPhone 13 Pro Max Lumen Series with MagSafe</td>
                                        <td>Otterbox</td>
                                        <td>49.95</td>
                                    </tr>
                                    <tr>
                                        <th scope="row">7</th>
                                        <td>Tech21 Evo Art Floral Bouquet Case for iPhone 13 Pro Max</td>
                                        <td>Tech 21</td>
                                        <td>49.95</td>
                                    </tr>
                                </tbody>
                            </table>
                            <div class="list-group-item" id="part1">
                                <h5>Q1. Write a query to count the number of iPhone 13 Pro Max Cases being sold by each manufacturer from ‘iPhone13ProMaxCase’ table.</h5>
                                <table class="table small table-striped" id="answer1-table">
                                    <thead>
                                        <tr>
                                            <th scope="col">#</th>
                                            <th scope="col">manufacturer</th>
                                            <th scope="col">Number_of_iPhone_13_Pro_Max_Cases</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <th scope="row">1</th>
                                            <td>Apple</td>
                                            <td>3</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">2</th>
                                            <td>Otterbox</td>
                                            <td>3</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">3</th>
                                            <td>Tech 21</td>
                                            <td>1</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <input type="text" class="form-control" name="q1" id="q1" 
                                placeholder="Please write your answer for Q1 here." />
                                <br>
                                <h5 name="a1" id="a1" style="visibility: hidden;">
                                    Correct Answer: SELECT manufacturer, COUNT(caseName) AS  Number_of_iPhone_13_Pro_Max_Cases FROM iPhone13ProMaxCase GROUP BY manufacturer;
                                </h5>
                            </div>
                            <div class="list-group-item" id="part2">
                                <h5>Q2. Write a query to select the manufacturers that sells two or more iPhone 13 Pro Max cases from ‘iPhone13ProMaxCase’ table.</h5>
                                <table class="table small table-striped" id="answer2-table">
                                    <thead>
                                        <tr>
                                            <th scope="col">#</th>
                                            <th scope="col">manufacturer</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <th scope="row">1</th>
                                            <td>Apple</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">2</th>
                                            <td>Otterbox</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <input type="text" class="form-control" name="q2" id="q2" 
                                placeholder="Please write your answer for Q2 here." />
                                <br>
                                <h5 name="a2" id="a2" style="visibility: hidden;">
                                    Correct Answer: SELECT manufacturer FROM iPhone13ProMaxCase GROUP BY manufacturer HAVING COUNT(caseName) >= 2;
                                </h5>
                            </div>
                            <div class="list-group-item" id="part3">
                                <h5>Q3. Write a query to select the manufacturers except Apple that sells two or more iPhone 13 Pro Max cases from ‘iPhone13ProMaxCase’ table.</h5>
                                <table class="table small table-striped" id="answer3-table">
                                    <thead>
                                        <tr>
                                            <th scope="col">#</th>
                                            <th scope="col">manufacturer</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <th scope="row">1</th>
                                            <td>Otterbox</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <input type="text" class="form-control" name="q3" id="q3" 
                                placeholder="Please write your answer for Q3 here." />
                                <br>
                                <h5 name="a3" id="a3" style="visibility: hidden;">
                                    Correct Answer: SELECT manufacturer FROM iPhone13ProMaxCase WHERE manufacturer <> 'Apple' GROUP BY manufacturer HAVING COUNT(caseName) >= 2;
                                </h5>
                            </div>
                            <br>
                            <h5><strong>For questions 4-5, please refer to the following table as well.</strong></h5>
                            <br>
                            <h5><strong>Table name: AirTagCase</strong></h5>
                            <br>
                            <table class="table small table-striped table-success">
                                <thead>
                                    <tr>
                                        <th scope="col">#</th>
                                        <th scope="col">caseName</th>
                                        <th scope="col">Pack</th>
                                        <th scope="col">manufacturer</th>
                                        <th scope="col">price</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <th scope="row">1</th>
                                        <td>AirTag Leather Key Ring</td>
                                        <td>1</td>
                                        <td>Apple</td>
                                        <td>35</td>
                                    </tr>
                                    <tr>
                                        <th scope="row">2</th>
                                        <td>AirTag Leather Loop</td>
                                        <td>1</td>
                                        <td>Apple</td>
                                        <td>39</td>
                                    </tr>
                                    <tr>
                                        <th scope="row">3</th>
                                        <td>AirTag Loop</td>
                                        <td>1</td>
                                        <td>Apple</td>
                                        <td>29</td>
                                    </tr>
                                    <tr>
                                        <th scope="row">4</th>
                                        <td>Belkin Secure Holder with Key Ring for AirTag</td>
                                        <td>1</td>
                                        <td>Belkin</td>
                                        <td>12.95</td>
                                    </tr>
                                    <tr>
                                        <th scope="row">5</th>
                                        <td>Belkin Secure Holder with Key Ring for AirTag</td>
                                        <td>4</td>
                                        <td>Belkin</td>
                                        <td>12.95</td>
                                    </tr>
                                    <tr>
                                        <th scope="row">6</th>
                                        <td>Belkin Secure Holder with Strap for AirTag</td>
                                        <td>1</td>
                                        <td>Belkin</td>
                                        <td>12.95</td>
                                    </tr>
                                    <tr>
                                        <th scope="row">7</th>
                                        <td>Belkin Secure Holder with Wire Cable for AirTag</td>
                                        <td>1</td>
                                        <td>Belkin</td>
                                        <td>19.95</td>
                                    </tr>
                                    <tr>
                                        <th scope="row">8</th>
                                        <td>Incase Woolenex Key Clip for AirTag</td>
                                        <td>1</td>
                                        <td>Incase</td>
                                        <td>19.95</td>
                                    </tr>
                                    <tr>
                                        <th scope="row">9</th>
                                        <td>OtterBox Rugged Case for AirTag</td>
                                        <td>1</td>
                                        <td>OtterBox</td>
                                        <td>19.95</td>
                                    </tr><tr>
                                        <th scope="row">8</th>
                                        <td>Tech21 Evo Clear case for AirTag</td>
                                        <td>2</td>
                                        <td>Tech21</td>
                                        <td>19.95</td>
                                    </tr>
                                </tbody>
                            </table>
                            <div class="list-group-item" id="part4">
                                <h5>Q4. Write a query to count the number of AirTag Cases being sold by each manufacturer that also sells cases for iPhone 13 Pro Max from ‘AirTagCase’ table.</h5>
                                <table class="table small table-striped" id="answer4-table">
                                    <thead>
                                        <tr>
                                            <th scope="col">#</th>
                                            <th scope="col">manufacturer</th>
                                            <th scope="col">Number_of_AirTag_Cases</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <th scope="row">1</th>
                                            <td>Apple</td>
                                            <td>3</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">2</th>
                                            <td>Otterbox</td>
                                            <td>1</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">3</th>
                                            <td>Tech 21</td>
                                            <td>1</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <input type="text" class="form-control" name="q4" id="q4" 
                                placeholder="Please write your answer for Q4 here." />
                                <br>
                                <h5 name="a4" id="a4" style="visibility: hidden;">
                                    Correct Answer: SELECT manufacturer, COUNT(caseName) AS  Number_of_AirTag_Cases FROM AirTagCase WHERE AirTagCase.manufacturer IN (SELECT manufacturer FROM iPhone13ProMaxCase) GROUP BY manufacturer;
                                </h5>
                            </div>
                            <div class="list-group-item" id="part5">
                                <h5>Q5. Write a query to count the number of AirTag Cases being sold by each manufacturer that does not sell cases for iPhone 13 Pro Max from ‘AirTagCase’ table.</h5>
                                <table class="table small table-striped" id="answer5-table">
                                    <thead>
                                        <tr>
                                            <th scope="col">#</th>
                                            <th scope="col">manufacturer</th>
                                            <th scope="col">Number_of_AirTag_Cases</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <th scope="row">1</th>
                                            <td>Belkin</td>
                                            <td>4</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">2</th>
                                            <td>Incase</td>
                                            <td>1</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <input type="text" class="form-control" name="q5" id="q5" 
                                placeholder="Please write your answer for Q5 here." />
                                <br>
                                <h5 name="a5" id="a5" style="visibility: hidden;">
                                    Correct Answer: SELECT manufacturer, COUNT(caseName) AS  Number_of_AirTag_Cases FROM AirTagCase WHERE AirTagCase.manufacturer NOT IN (SELECT manufacturer FROM iPhone13ProMaxCase) GROUP BY manufacturer;
                                </h5>
                            </div>
                            <div class="form-group text-center">
                                <br>
                                <!-- Reset -->
                                <button class="btn btn-outline-danger btn-xs lift" type="button" id="resetButton" style="visibility:hidden"> 
                                    Reset 
                                </button>
                                <!-- Submit -->
                                <button class="btn btn-outline-primary btn-xs lift" type="button" id="submitButton"> 
                                    Submit 
                                </button>
                                <!-- Review -->
                                <a href="{{ url_for('sql_pages.level1Review') }}">
                                    <button class="btn btn-outline-success btn-xs lift" type="button" id="reviewButton" style="visibility:hidden"> 
                                        Review 
                                    </button>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Javascript code for level 3 -->
<script src="{{ url_for('static', filename='assets/js/level3.js') }}"></script>
{% endblock %}